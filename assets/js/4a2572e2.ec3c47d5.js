"use strict";(self.webpackChunksapzil_org=self.webpackChunksapzil_org||[]).push([[7588],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=c(n),d=a,f=m["".concat(s,".").concat(d)]||m[d]||u[d]||i;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3391:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return o},metadata:function(){return c},toc:function(){return u}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),l=["components"],o={layout:"post",title:"Jersey 2.x\uc5d0 \ub0b4\uc7a5\ub41c \uc758\uc874\uc131 \uc8fc\uc785 \uae30\ub2a5 \uc0ac\uc6a9\ud558\uae30",tags:["java","jersey","dependency-injection"]},s=void 0,c={permalink:"/2016/08/04/jersey-hk2",source:"@site/blog/2016-08-04-jersey-hk2.md",title:"Jersey 2.x\uc5d0 \ub0b4\uc7a5\ub41c \uc758\uc874\uc131 \uc8fc\uc785 \uae30\ub2a5 \uc0ac\uc6a9\ud558\uae30",description:"Jersey\ub294 Java\uc758 REST \uc6f9 \uc11c\ube44\uc2a4 \ud45c\uc900\uc778 JAX-RS\uc758 \ub808\ud37c\ub7f0\uc2a4 \uad6c\ud604\uccb4\uc785\ub2c8\ub2e4. Spring\uc758 \ubb34\uac70\uc6c0\uc774\ub098 \uc11c\ube14\ub9bf\uc744 \uc9c1\uc811 \uc4f8\ub54c\uc758 \ubc88\uac70\ub85c\uc6c0\uc774 \ub35c\ud574\uc11c \uc790\uc8fc \uc0ac\uc6a9\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ud2b9\ud788 Jersey\uc640 \uba87\uba87 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \ud1b5\ud569\uc744 \uc81c\uacf5\ud558\ub294 Dropwizard\ub97c \uc4f0\uba74 REST \uc11c\ube44\uc2a4\ub97c \ube60\ub974\uac8c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",date:"2016-08-04T00:00:00.000Z",formattedDate:"2016\ub144 8\uc6d4 4\uc77c",tags:[{label:"java",permalink:"/tags/java"},{label:"jersey",permalink:"/tags/jersey"},{label:"dependency-injection",permalink:"/tags/dependency-injection"}],readingTime:3.925,truncated:!1,authors:[],frontMatter:{layout:"post",title:"Jersey 2.x\uc5d0 \ub0b4\uc7a5\ub41c \uc758\uc874\uc131 \uc8fc\uc785 \uae30\ub2a5 \uc0ac\uc6a9\ud558\uae30",tags:["java","jersey","dependency-injection"]},prevItem:{title:"RxJS\ub85c React \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc \uad00\ub9ac\ud558\uae30",permalink:"/2016/12/15/react-with-rx"},nextItem:{title:"\uc560\ub2c8\uba54\ud0c0\uc758 React \uc11c\ubc84 \ub80c\ub354\ub9c1 \uc544\ud0a4\ud14d\uccd0",permalink:"/2016/07/29/animeta-react-ssr"}},p={authorsImageUrls:[]},u=[{value:"\ub9ac\uc18c\uc2a4\uc5d0 \uc758\uc874\uc131 \uc8fc\uc785",id:"\ub9ac\uc18c\uc2a4\uc5d0-\uc758\uc874\uc131-\uc8fc\uc785",level:2},{value:"\ubc14\uc778\ub529 \uc124\uc815",id:"\ubc14\uc778\ub529-\uc124\uc815",level:2},{value:"Mock \uac1d\uccb4 \uc8fc\uc785\ud574\uc11c \ud14c\uc2a4\ud2b8",id:"mock-\uac1d\uccb4-\uc8fc\uc785\ud574\uc11c-\ud14c\uc2a4\ud2b8",level:2},{value:"\ucc38\uace0 \ubb38\uc11c",id:"\ucc38\uace0-\ubb38\uc11c",level:2}],m={toc:u};function d(e){var t=e.components,n=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://jersey.java.net/"},"Jersey"),"\ub294 Java\uc758 REST \uc6f9 \uc11c\ube44\uc2a4 \ud45c\uc900\uc778 JAX-RS\uc758 \ub808\ud37c\ub7f0\uc2a4 \uad6c\ud604\uccb4\uc785\ub2c8\ub2e4. Spring\uc758 \ubb34\uac70\uc6c0\uc774\ub098 \uc11c\ube14\ub9bf\uc744 \uc9c1\uc811 \uc4f8\ub54c\uc758 \ubc88\uac70\ub85c\uc6c0\uc774 \ub35c\ud574\uc11c \uc790\uc8fc \uc0ac\uc6a9\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ud2b9\ud788 Jersey\uc640 \uba87\uba87 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \ud1b5\ud569\uc744 \uc81c\uacf5\ud558\ub294 ",(0,i.kt)("a",{parentName:"p",href:"http://www.dropwizard.io/"},"Dropwizard"),"\ub97c \uc4f0\uba74 REST \uc11c\ube44\uc2a4\ub97c \ube60\ub974\uac8c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("p",null,"Jersey 1.x\uc5d0\uc11c\ub294 ",(0,i.kt)("a",{parentName:"p",href:"https://jersey.java.net/documentation/1.19.1/chapter_deps.html#d4e1859"},"Guice\uc640\uc758 \uc5f0\ub3d9\uc744 \uc9c0\uc6d0"),"\ud588\ub294\ub370 2.0 \uc774\ud6c4\uc5d0\ub294 ",(0,i.kt)("a",{parentName:"p",href:"https://hk2.java.net/"},"HK2"),"\ub77c\ub294 \uc758\uc874\uc131 \uc8fc\uc785 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \ub0b4\uc7a5\ud558\uac8c \ub418\uba74\uc11c \ub2e4\ub978 \uc758\uc874\uc131 \uc8fc\uc785 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc640\ub294 \ud1b5\ud569\uc774 \uc27d\uc9c0 \uc54a\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4. Dropwizard\ub3c4 0.8.0\ubd80\ud130\ub294 Jersey 2.x\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 \ubb54\uac00 \ub300\ucc45\uc774 \ud544\uc694\ud588\uc2b5\ub2c8\ub2e4. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Squarespace/jersey2-guice"},"jersey2-guice")," \uac19\uc740 \ud574\uacb0\ucc45\ub3c4 \uc788\uc9c0\ub9cc \uadf8\ub0e5 HK2\ub97c \uadf8\ub300\ub85c \uc368\ub3c4 \ub418\uc9c0 \uc54a\uc744\uae4c \ud574\uc11c \uc870\uc0ac\ub97c \ud574\ubcf4\uc558\uc2b5\ub2c8\ub2e4."),(0,i.kt)("h2",{id:"\ub9ac\uc18c\uc2a4\uc5d0-\uc758\uc874\uc131-\uc8fc\uc785"},"\ub9ac\uc18c\uc2a4\uc5d0 \uc758\uc874\uc131 \uc8fc\uc785"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TwitterClient"),"\ub77c\ub294 \uc778\ud130\ud398\uc774\uc2a4\uac00 \uc788\ub2e4\uace0 \uac00\uc815\ud574\ubd05\uc2dc\ub2e4. \ub9ac\uc18c\uc2a4 \ud074\ub798\uc2a4\uc758 \uc0dd\uc131\uc790\uc5d0 ",(0,i.kt)("a",{parentName:"p",href:"http://docs.oracle.com/javaee/7/api/javax/inject/Inject.html"},"javax.inject.Inject")," \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ubd99\uc5ec\uc11c \uac1d\uccb4\ub97c \uc8fc\uc785\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'@Path("/tweets")\npublic class TweetsResource {\n    private final TwitterClient twitterClient;\n\n    @Inject\n    public TweetsResource(TwitterClient twitterClient) {\n        this.twitterClient = twitterClient;\n    }\n\n    // ...\n}\n')),(0,i.kt)("p",null,"Guice\uc640 \ubcc4\ub85c \ub2e4\ub97c \uac83\uc740 \uc5c6\uc2b5\ub2c8\ub2e4. \ud574\ubcf4\uc9c4 \uc54a\uc558\uc9c0\ub9cc \uc544\ub9c8 setter/field \uc778\uc81d\uc158\ub3c4 \uac00\ub2a5\ud560\uac81\ub2c8\ub2e4."),(0,i.kt)("h2",{id:"\ubc14\uc778\ub529-\uc124\uc815"},"\ubc14\uc778\ub529 \uc124\uc815"),(0,i.kt)("p",null,"Jersey\uc5d0\uc11c\ub294 \uc77c\ubc18\uc801\uc73c\ub85c ",(0,i.kt)("a",{parentName:"p",href:"https://jersey.java.net/apidocs/2.0/jersey/org/glassfish/jersey/server/ResourceConfig.html"},"ResourceConfig")," \uac1d\uccb4\uc5d0 \ub9ac\uc18c\uc2a4\ub97c \ub4f1\ub85d\ud569\ub2c8\ub2e4. (Dropwizard\uc5d0\uc11c\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"Environment#jersey()"),"\ub97c \ud1b5\ud574 \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"ResourceConfig config = new ResourceConfig();\nconfig.register(TweetsResource.class);\n")),(0,i.kt)("p",null,"\ub9c8\ucc2c\uac00\uc9c0\ub85c \ubc14\uc778\ub529 \uc124\uc815 \ub610\ud55c ",(0,i.kt)("inlineCode",{parentName:"p"},"ResourceConfig"),"\uc5d0 \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Guice\uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"AbstractModule"),"\uacfc \uc720\uc0ac\ud55c ",(0,i.kt)("a",{parentName:"p",href:"https://hk2.java.net/hk2-api/apidocs/org/glassfish/hk2/utilities/binding/AbstractBinder.html"},"AbstractBinder"),"\ub97c \uc0c1\uc18d\ubc1b\uace0 \ubc14\uc778\ub529 DSL\uc744 \uc0ac\uc6a9\ud574\uc11c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"config.register(new AbstractBinder() {\n    // ...\n});\n")),(0,i.kt)("p",null,"HK2\uc758 \ubc14\uc778\ub529 DSL\ub3c4 Guice\uc640 \uc0c1\ub2f9\ud788 \ube44\uc2b7\ud55c\ub370, HK2\ub294 ",(0,i.kt)("em",{parentName:"p"},"\uad6c\ud604\uc774 \uc55e\uc5d0 \uc624\uace0 \uc778\ud130\ud398\uc774\uc2a4\uac00 \ub4a4\uc5d0 \uc628\ub2e4"),"\ub294 \ucc28\uc774\uac00 \uc788\uc2b5\ub2c8\ub2e4. (HK2\uc758 \uc6a9\uc5b4\ub85c\ub294 \uc778\ud130\ud398\uc774\uc2a4 = contract, \uad6c\ud604 = service\uc785\ub2c8\ub2e4.)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bind(new TwitterClientImpl()).to(TwitterClient.class)"),": TwitterClientImpl \uc778\uc2a4\ud134\uc2a4\ub97c TwitterClient \uc778\ud130\ud398\uc774\uc2a4\uc5d0 \ubc14\uc778\ub529"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bind(TwitterClientImpl.class).to(TwitterClient.class)"),": TwitterClient \uc778\ud130\ud398\uc774\uc2a4\uc758 \uad6c\ud604 \ud074\ub798\uc2a4\ub85c TwitterClientImpl\uc744 \ubc14\uc778\ub529 (\uc8fc\uc785 \uc2dc\ub9c8\ub2e4 \uc0c8\ub85c \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bind(TwitterClientImpl.class).to(TwitterClient.class).in(Singleton.class)"),": TwitterClient \uc778\ud130\ud398\uc774\uc2a4\uc758 \uad6c\ud604 \ud074\ub798\uc2a4\ub85c TwitterClientImpl\uc744 \ubc14\uc778\ub529 (\uc8fc\uc785 \uc2dc \ud558\ub098\uc758 \uc2f1\uae00\ud134 \uc778\uc2a4\ud134\uc2a4 \uacf5\uc720)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bindAsContract(TwitterClientImpl.class)"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"bind(TwitterClientImpl.class).to(TwitterClientImpl.class)"),"\uc640 \uac19\uc2b5\ub2c8\ub2e4.")),(0,i.kt)("p",null,"\uadf8 \ubc16\uc5d0\ub3c4 ",(0,i.kt)("a",{parentName:"p",href:"https://hk2.java.net/hk2-api/apidocs/org/glassfish/hk2/utilities/binding/AbstractBinder.html#bindFactory%28java.lang.Class%29"},"bindFactory")," \uac19\uc740 \uac83\ub4e4\uc774 \uc81c\uacf5\ub418\ub294\ub370 HK2 \ubb38\uc11c\uac00 \uadf8\ub2e4\uc9c0 \uce5c\uc808\ud558\uc9c0 \uc54a\uc544\uc11c \uc644\uc804\ud788 \ud30c\uc545\ud558\uc9c0\ub294 \ubabb\ud588\uc9c0\ub9cc \uc6ec\ub9cc\ud558\uba74 \ubb38\uc81c\ub294 \uc5c6\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4."),(0,i.kt)("h2",{id:"mock-\uac1d\uccb4-\uc8fc\uc785\ud574\uc11c-\ud14c\uc2a4\ud2b8"},"Mock \uac1d\uccb4 \uc8fc\uc785\ud574\uc11c \ud14c\uc2a4\ud2b8"),(0,i.kt)("p",null,"Jersey \ud14c\uc2a4\ud2b8 \ud504\ub808\uc784\uc6cc\ud06c\uc640 \uc801\ub2f9\ud55c Mock \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud574\uc11c TwitterClient\uc758 Mock \uac1d\uccb4\ub97c \uc8fc\uc785\ud558\ub294 \ud14c\uc2a4\ud2b8\ub97c \ub2e4\uc74c\uacfc \uac19\uc774 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'public class HK2Demo extends JerseyTest {\n    TwitterClient twitterClient;\n\n    @Override protected Application configure() {\n        twitterClient = mock(TwitterClient.class);\n\n        ResourceConfig config = new ResourceConfig();\n        config.register(TweetsResource.class);\n        config.register(new AbstractBinder() {\n            @Override protected void configure() {\n                bind(twitterClient).to(TwitterClient.class);\n            }\n        });\n        return config;\n    }\n\n    @Test public void testPost() {\n        target("/tweets").request()\n            .post(Entity.form(new Form("message", "Hi!")));\n        verify(twitterClient).tweet("Hi!");\n    }\n}\n')),(0,i.kt)("h2",{id:"\ucc38\uace0-\ubb38\uc11c"},"\ucc38\uace0 \ubb38\uc11c"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://jersey.java.net/documentation/latest/ioc.html"},"Custom Injection and Lifecycle Management - Jersey User Guide"))))}d.isMDXComponent=!0}}]);